(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[633,8590],{1026:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/plus/landing",function(){return i(46013)}])},68590:function(e,t,i){"use strict";i.r(t),i.d(t,{DigiplusSubscriptionModal:function(){return D}});var n=i(66383),o=i(52322),r=i(2784),s=i(11080),a=i(45756),u=i(691),c=i(5185),d=i(26442),l=i(72873),p=i(57394),v=i(64177),m=i(42080),_=i(3417),h=i(41435),f=i(74740),x=i(12978),g=(0,i(1324).q)({url:"/digiplus/plans/",inputTransformer:function(e){return{hide_direct_debit:e.isHideDirectDebit}},transformer:function(e){var t,i=e.data||{},n=i.plans,o=i.services;return{plans:null==n?void 0:null===(t=n.map)||void 0===t?void 0:t.call(n,function(e){return(0,x.G)({data:e})}),services:null==o?void 0:o.map(function(e){var t;return{serviceTitle:(t=e||{}).title,serviceIcon:t.image,serviceDescription:t.desc}})}}});function D(e){var t=e.isOpenModal,i=e.onCloseModal,x=e.isDigiplusTemporaryModal,D=e.onAddSubscriptionCallback,b=e.isHideDirectDebitPlans,P=(0,v.C)(),I=P.isDesktop,y=P.windowWidth,L=(0,n.Z)((0,r.useState)(),2),S=L[0],N=L[1],T=(0,m.e)({isOpen:t}).zIndex,O=(0,l.V)({disabled:!t,apiMethod:g,onSuccess:function(e){(0,h.x)(e.plans)||N(e.plans[0])},apiData:{isHideDirectDebit:void 0!==b&&b}}),U=O.data,R=U.plans,C=U.services,j=O.pending,M=(0,p.J)({action:_.o_}),w=M.request,A=M.pending;return(0,o.jsx)(s.u0,{zIndex:T,isDigiplusTemporaryModal:x,isOpenModal:t,onCloseModal:i,isDesktop:I,windowWidth:y,isPending:j,isPendingAddSubscriptionTemporary:A,plans:R,services:C,paymentUrl:(0,d.py)({type:c.Rd.PLUS,id:null==S?void 0:S.planId}),activePlan:S,onClickPlan:function(e){return function(){return N(e)}},onAddPlusTemporary:function(){w({planId:null==S?void 0:S.planId}).then(function(){(0,f.m)(D)&&D(),(0,f.m)(i)&&i()})},CROIdClose:a.h.PLUS_ON_MODAL_CLOSE,CROIdAddSubscription:a.h.PLUS_ON_MODAL_ADD,CROIdAddToCart:a.h.PLUS_ON_MODAL_ADD_TO_CART,CROIdDirectDebitNotice:a.h.PLUS_SUBSCRIPTION_MODAL_DETAILS,directDebitDetailsLink:u.Fo})}},46013:function(e,t,i){"use strict";i.r(t),i.d(t,{__getServerSideProps:function(){return S},default:function(){return L}});var n=i(52322),o=i(97729),r=i.n(o),s=i(11080),a=i(86347),u=i(45756),c=i(691),d=i(26442),l=i(64177),p=i(80803),v=i(27314),m=i(87049),_=i(6013),h=i(41701),f=i(98661),x=i(53548),g=i(68590),D=i(93787),b=i(12978),P=i(95542),I=i(12773),y=(0,i(1324).q)({url:"/digiplus/",transformer:function(e){var t,i,n,o=e.data||{},r=o.total_subscriptions_count,s=o.can_buy_subscription,a=o.cta_sentence,u=o.faq,c=o.incredible_products,d=o.early_access_products,l=o.cash_back_products,p=o.jet_delivery_products,v=o.plans,m=o.digiplus_vouchers;return{digiplusTotalSubscriptionsCount:r,digiplusCanBuySubscription:!!s,digiplusPrimaryButtonText:a,digiplusFaqs:null==u?void 0:null===(t=u.map)||void 0===t?void 0:t.call(u,function(e){return(0,P.K)({data:e})}),digiplusIncredibleProducts:(0,D.$)({data:c}),digiplusEarlyAccessProducts:(0,D.$)({data:d}),digiplusCashBackProducts:(0,D.$)({data:l}),digiplusJetDeliveryProducts:(0,D.$)({data:p}),digiplusPlans:null==v?void 0:null===(i=v.map)||void 0===i?void 0:i.call(v,function(e){return(0,b.G)({data:e})}),digiclubVouchers:null==m?void 0:null===(n=m.map)||void 0===n?void 0:n.call(m,function(e){return(0,I.T)({data:e})})}},isPageGetRequest:!0}),L=(0,h.D)({component:function(e){var t=e.ssrData,i=(0,p.d)(),o=i.isOpen,h=i.onOpen,D=i.onClose,b=(0,v.e)().redirect,P=(0,m.v)(_.p.digiplusData),I=P.digiplusIsActivated,y=P.digiplusSubscriptionRemainingDays,L=(0,m.v)(_.p.isLoggedIn),S=(0,l.C)().isDesktop,N=(0,m.v)(_.p.digiclubData).digiclubPoints;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r(),{children:(0,n.jsx)("title",{children:(0,f.t)({title:"دیجی‌پلاس",suffix:"خدمات ویژه کاربران دیجی‌کالا"})})}),(0,n.jsx)(s.fy,{data:t,isLoggedIn:L,isPlusUser:I,remainingDays:y,profileLink:d.iV,loginLink:(0,x.U)({toLoginRegisterRoute:!0}),onOpenSubscriptionModal:h,onGoToProfile:function(){b({url:d.iV})},CROIdPrimaryButton:u.h.PLUS_LANDING_SUBSCRIPTION,CROIdServicesButton:u.h.PLUS_LANDING_SERVICE,CROIdBuyButton:u.h.PLUS_LANDING_STATS,CROIdRegisterButton:u.h.PLUS_LANDING_BENEFITS,contactUsLink:"".concat(d.dT,"?subject_id=9"),fidiplusLink:c.bZ,freeShipmentLink:(0,d.MN)(1376),CROIdQuestion:u.h.FAQ_WRITTEN_QUESTION,CROIdFAQ:u.h.PLUS_LANDING_FAQ,isDesktop:S,digiclubPoints:N,renderVoucherModalComponent:function(e){var t=e.id,i=e.type,o=e.title,r=e.instruction,s=e.requirePoints,u=e.voucherUserRedeemHistory,c=e.maximumDownload,d=e.voucherUserDownloaded,l=e.close,p=e.isModalOpen;return(0,n.jsx)(a.K,{close:l,isModalOpen:p,isPlus:!0,id:t,type:i,title:o,instruction:r,requirePoints:s,voucherUserRedeemHistory:u,maximumDownload:c,voucherUserDownloaded:d,isPlusUser:I})}}),(0,n.jsx)(g.DigiplusSubscriptionModal,{isOpenModal:o,onCloseModal:D})]})},getAPIMethods:function(){return[{apiMethod:y}]},layoutProps:{chatKey:"digiplus",noContentPadding:!0,desktopFullWidth:!0},noDefaultLoader:!0}),S=(0,i(40171).I)({getSSRMethods:L.getAPIMethods})},86347:function(e,t,i){"use strict";i.d(t,{K:function(){return N}});var n=i(66383),o=i(52322),r=i(2784),s=i(59437),a=i(98780),u=i(50603),c=i(26442),d=i(52216),l=i(72677),p={VOUCHER:"voucher",LOTTERY:"lottery"},v=i(57931),m=i(36696),_=i(5273),h=i.n(_);function f(e){var t=e.className,i=e.code,s=(0,n.Z)((0,r.useState)("low-emphasis"),2),u=s[0],c=s[1],d=(0,n.Z)((0,m.m)(),2),p=d[0],v=d[1],_=(0,l.d)("w-67 relative mx-auto bg-no-repeat bg-top lg:text text-neutral-900 hover:text-digikala-500 font-bold py-5 cursor-pointer transition duration-100 ease-in-out",h().VoucherBox,t);return(0,o.jsxs)("div",{className:_,onClick:function(){v(i)},onMouseEnter:function(){c("primary")},onMouseLeave:function(){c("low-emphasis")},children:[(0,o.jsxs)("div",{className:(0,l.d)("flex justify-center items-center relative",h().VoucherBox__content),children:[(0,o.jsx)("span",{className:"text-body-1",children:i}),(0,o.jsx)(a.J,{icon:"copy",color:u,size:18,className:"mr-2 relative"})]}),p&&(0,o.jsxs)("div",{className:"inline-flex items-center py-2 px-3 bg-neutral-700 border-complete border-n-900 rounded xs:text text-neutral-000 absolute left-1/2 transform -translate-x-1/2 bottom-10 transform translate-y-full -translate-x-3",children:["کد تخفیف کپی شد",(0,o.jsx)("span",{className:"w-5/2 h-5/2 absolute bg-neutral-700 border-2 border-n-900 transform absolute left-0 top-0 -rotate-45 -translate-y-3/2 translate-x-4 border-complete-l-0 border-complete-b-0"})]})]})}var x=i(64665),g=i(45756),D=i(57394),b=i(87049),P=i(6013),I=i(46943),y=i(42306),L=i(53548);function S(e){var t=e.id,i=e.url,a=e.type,u=e.isPlus,d=e.isPlusUser,l=e.setVoucher,p=e.requirePoints,m=e.maximumDownload,_=e.actionButtonTitle,h=e.isVoucherPlusExclusive,S=e.voucherUserRedeemHistory,N=e.voucherUserDownloaded,T=(0,b.v)(P.p.isLoggedIn),O=(0,D.J)({action:I.p$}),U=O.request,R=O.pending,C=(0,n.Z)((0,r.useState)(N>=m),2),j=C[0],M=C[1],w=(0,b.v)(P.p.digiclubData).digiclubPoints;return T?S&&!(0,y.d)(x.X.VOUCHER_MAX_DOWNLOAD)?(0,o.jsx)(f,{code:S}):j?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"w-full text-center text-body-2 text-neutral-500 mb-2",children:"تعداد دفعات استفاده از این کد تخفیف برای شما به پایان رسیده است."}),(0,o.jsx)(v.z,{disabled:!0,isLoading:R,children:_})]}):void 0!==u&&u&&void 0!==h&&h&&!(void 0!==d&&d)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"w-full text-center text-body-2 text-neutral-500 mb-2",children:"شما اشتراک دیجی‌پلاس ندارید"}),(0,o.jsx)(s.e,{mode:"link",href:c.LX,children:(0,o.jsx)(v.z,{className:"w-full",CROId:g.h.PLUS_LANDING_DIGICLUB_MEMBERSHIP,isLoading:R,children:"عضویت در دیجی‌پلاس"})})]}):w>=p?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"w-full text-center text-body-2 text-neutral-500 mb-2",children:"با دریافت جایزه، امتیاز کسر شده قابل بازگشت نیست."}),(0,o.jsx)(v.z,{onClick:function(){T&&U({id:t,type:a}).then(function(e){(null==e?void 0:e.code)&&l(null==e?void 0:e.code),(null==e?void 0:e.downloadedVouchers)>=m&&M(!0)})},CROId:g.h.PLUS_LANDING_DIGICLUB_GET_REWARD,isLoading:R,children:_})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"w-full text-center text-body-2 text-neutral-500 mb-2",children:"شما امتیاز کافی برای دریافت این جایزه ندارید."}),(0,o.jsx)(v.z,{mode:"outlined",color:"primary",to:i,children:"مشاهده روش ‌های افزایش امتیاز"})]}):(0,o.jsx)(v.z,{to:(0,L.U)({toLoginRegisterRoute:!0}),mode:"outlined",color:"primary",className:"mt-2",children:"ابتدا وارد شوید."})}function N(e){var t=e.id,i=e.type,v=e.title,m=e.close,_=e.urlTitle,h=e.isPlus,x=e.isPlusUser,g=e.isModalOpen,D=e.className,b=e.instruction,P=e.maximumDownload,I=e.voucherUserRedeemHistory,y=e.isVoucherPlusExclusive,L=e.voucherUserDownloaded,N=e.url,T=void 0===N?c.r:N,O=e.requirePoints,U=i===p.LOTTERY?"جزییات کد قرعه‌کشی":"جزییات کد تخفیف",R=i===p.LOTTERY?"دریافت کد قرعه‌کشی":"دریافت جایزه",C=(0,n.Z)((0,r.useState)(null),2),j=C[0],M=C[1];return(0,o.jsx)(u.Modal,{headerTitle:U,isOpen:g,onDismiss:function(){M(null),m()},isFooterFixed:!0,footer:(0,o.jsx)("div",{className:"flex flex-col user-select-none",children:j?(0,o.jsx)(f,{code:j}):(0,o.jsx)(S,{id:t,url:T,type:i,setVoucher:M,requirePoints:void 0===O?0:O,isVoucherPlusExclusive:void 0!==y&&y,isPlus:void 0!==h&&h,isPlusUser:void 0!==x&&x,maximumDownload:P,actionButtonTitle:R,voucherUserDownloaded:L,voucherUserRedeemHistory:I})}),children:(0,o.jsx)("div",{className:(0,l.d)("px-4 pb-4 bg-neutral-000 rounded mx-auto",D),children:(0,o.jsxs)("div",{className:"pt-4 overflow-auto",children:[(0,o.jsx)("div",{className:"mb-3 text-neutral-900 text-h4",children:(0,d.U)(v)}),b&&(0,o.jsx)("div",{className:"text-neutral-700 text-body-1",dangerouslySetInnerHTML:{__html:b}}),T&&_&&(0,o.jsx)("div",{className:"flex items-center mt-2",children:(0,o.jsxs)(s.e,{href:T,children:[_,(0,o.jsx)(a.J,{icon:"externalLink",size:18,className:"mr-1"})]})})]})})})}},93787:function(e,t,i){"use strict";i.d(t,{$:function(){return s}});var n=i(70582),o=i(73587),r=i(79968);function s(e){var t=e.data||{},i=t.discount_percent,s=t.products,a=t.products_count,u=t.see_more_url,c=t.url,d=t.title,l=t.description,p=t.background,v=t.icon,m=t.early_access_url,_=t.timer;return{productsDiscountPercent:i,productsBackgroundImage:(0,n.W)({data:p}),productsIconImage:(0,n.W)({data:v}),products:Object.values(s||{}).map(function(e){return(0,o.r)({data:e})}),productsCount:a,productsSeeMoreUrl:(0,r.f)({data:u||c}),productsTitle:d,productsDescription:l,productsBackground:p,productsIcon:v,plusEarlyAccessUrl:(0,r.f)({data:m}),bigDataTrackerData:{},timer:_}}},12978:function(e,t,i){"use strict";function n(e){var t,i=e.data||{},n=i.id,o=i.title,r=i.description,s=i.number_of_days,a=i.price,u=i.status,c=i.discount,d=i.discount_percent,l=i.new_user_discount,p=i.new_user_discount_percent,v=i.price_per_month,m=i.partner;return{planId:n,planCROId:i.cro_id,planTitle:o,planDescription:r,planNumberOfDays:s,planPrice:a,planStatus:u,planDiscount:c,planDiscountPercent:d,planNewUserDiscount:l,planNewUserDiscountPercent:p,planPartner:m,planIcon:i.icon,planTotalPayablePrice:i.total_payable_price,planActiveDirectDebit:i.active_direct_debit,planDirectDebitDiscountDescription:i.direct_debit_discount_description,planPricePerMonth:v,planFreeShipmentCount:i.free_shipment_count,planMessage:{planMessageTitle:(t=({data:i.message}).data||{}).title,planMessageDescription:t.description}}}i.d(t,{G:function(){return n}})},95542:function(e,t,i){"use strict";i.d(t,{K:function(){return u}});var n=i(70865),o=i(64248),r=i(70582),s=i(79968),a=i(75743);function u(e){var t,i=e.data,u=e.prefix,c=i||{},d=c.id,l=c.title,p=c.see_more_url,v=c.icon,m=c.questions,_=(0,r.W)({data:v,prefix:"faqIcon"});return(0,o.Y)((0,n.Z)({faqIcon:(0,r.W)({data:v}),faqId:d,faqTitle:l,faqSeeMoreUrl:(0,s.f)({data:p}),faqQuestions:(null==m?void 0:null===(t=m.map)||void 0===t?void 0:t.call(m,function(e){return(0,a.Q)({data:e})}))||[]},_),{prefix:u})}},12773:function(e,t,i){"use strict";i.d(t,{T:function(){return o}});var n=i(70582);function o(e){var t=e.data||{},i=t.business,o=t.expiration_date,r=t.instruction,s=t.id,a=t.type,u=t.title,c=t.required_points_discount,d=t.required_points,l=t.promotion_badge_title,p=t.user_redeem_history,v=t.finished,m=t.start_date_timestamp,_=t.expiration_date_timestamp,h=t.maximum_download,f=t.downloaded_count,x=t.is_plus_exclusive,g=(p||{}).code,D=i||{},b=D.title,P=D.logo;return{voucherBusiness:{voucherBusinessLogo:(0,n.W)({data:P}),voucherBusinessTitle:b},voucherBusinessLogoUrl:(0,n.W)({data:P}).imageSrc,voucherBusinessTitle:b,voucherIsPlusExclusive:x,voucherExpirationDate:o,voucherInstruction:r,voucherId:s,voucherType:a,voucherTitle:u,voucherRequiredPointsDiscount:c,voucherRequiredPoints:d,voucherPromotionBadgeTitle:l,voucherUserRedeemHistory:g,voucherIsFinished:!!v,voucherStartDate:m,voucherExpirationDateTimeStamp:_,voucherMaximumDownload:h,voucherUserDownloaded:f}}},41701:function(e,t,i){"use strict";function n(e){var t=e.component,i=e.getAPIMethods,n=e.layoutProps,o=e.isPrivate,r=e.noDefaultLoader,s=e.pageActivatorFeature,a=e.redirectIfLogin,u=e.afterLogin,c=e.disableSSR,d=e.dataProps;return t.getAPIMethods=i,t.layoutProps=n,t.isPrivate=o,t.noDefaultLoader=r,t.pageActivatorFeature=s,t.redirectIfLogin=a,t.afterLogin=u,t.disableSSR=c,t.dataProps=d,t}i.d(t,{D:function(){return n}})},98661:function(e,t,i){"use strict";function n(e){var t=e.title,i=void 0===t?"":t,n=e.suffix,o=void 0===n?"":n,r=e.prefix,s=void 0===r?"":r;return"".concat(s?"".concat(s," - "):"","دیجی‌کالا").concat(i?" - ".concat(i):"").concat(o?" - ".concat(o):"")}i.d(t,{t:function(){return n}})},5273:function(e){e.exports={VoucherBox:"styles_VoucherBox__Cax_0",VoucherBox__content:"styles_VoucherBox__content__E_z7n"}}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=1026)}),_N_E=e.O()}]);